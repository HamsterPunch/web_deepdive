<!DOCTYPE html>
<html>
    <head>
        <!-- basic style -->
        <link rel="stylesheet" href="../../style/basic.css">
        <!-- highlight.js -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script>
        <!-- title -->
        <title>브라우저의 렌더링 과정 | script 태그의 async/defer 어트리뷰트</title>
    </head>
    <body>
        <!-- header -->
        <header class="header">
            <nav class="navigation">
                <a href="./08.html">이전</a>
                <a href="">홈</a>
                <a href="">다음</a>
            </nav>
        </header>

        <!-- content -->
        <div class="page_content">
            <h2>38.9 script 태그의 async/defer 어트리뷰트</h2>

            <div class="article">
                <p>
                    앞에서 살펴본 자바스크립트 파싱에 의한 DOM 생성이 중단되는 문제를 근본적으로 해결하기 위해 HTML5부터 script 태그에 async와 defer 어트리뷰트가 추가되었다.
                </p>
                <p>
                    async와 defer 어트리뷰트는 다음과 같이 src 어트리뷰트를 통해 외부 자바스크립트 파일을 로드하는 경우에만 사용할 수 있다. 즉, src 어트리뷰트가 없는 인라인 자바스크립트에는 사용할 수 없다.
                </p>
                <pre>
                    <code class="html">
                        &#x3C;script async src=&#x22;extern.js&#x22;&#x3E;&#x3C;/script&#x3E;
                        &#x3C;script defer src=&#x22;extern.js&#x22;&#x3E;&#x3C;/script&#x3E;
                    </code>
                </pre>
                <p>
                    async와 defer 어트리뷰트를 사용하면 HTML 파싱과 외부 자바스크립트 파일의 로드가 비동기적으로 동시에 진행된다. 하지만 자바스크립트의 실행 시점에 차이가 있다.
                </p>
                <div class="sub_article">
                    <p>
                        async 어트리뷰트를 사용할 경우 HTML 파싱과 외부 자바스크립트 파일의 로드가 비동기적으로 동시에 진행된다. 단, 자바스크립트의 파싱과 실행은 자바스크립트 파일의 로드가 완료된 직후 진행되며, 이때 HTML 파싱이 중단된다.
                    </p>
                    <p>
                        여러 개의 script 태그에 async 어트리뷰트를 지정하면 script 태그의 순서와는 상관없이 로드가 완료된 자바스크립트부터 먼저 실행되므로 순서가 보장되지 않는다. 따라서 순서 보장이 필요한 script 태그에는 async 어트리뷰트를 지정하지 않아야 한다.
                    </p>
                </div>
                <div class="sub_article">
                    <p>
                        defer 어트리뷰트를 사용할 경우 async 어트리뷰트와 마찬가지로 HTML 파싱과 외부 자바스크립트 파일의 로드가 비동기적으로 동시에 진행된다. 단, 자바스크립트의 파싱과 실행은 HTML 파싱이 완료된 직후, 즉 DOM 생성이 완료된 직후(이때 DOMContentLoaded 이벤트가 발생한다) 진행된다. 따라서 DOM 생성이 완료된 이후 실행되어야 할 자바스크립트에 유용하다.
                    </p>
                </div>
            </div>
        </div>
    </body>
</html>