<!DOCTYPE html>
<html>
    <head>
        <!-- basic style -->
        <link rel="stylesheet" href="../../style/basic.css">
        <!-- highlight.js -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script>
        <!-- title -->
        <title>클래스 | 클래스 호이스팅</title>
    </head>
    <body>
        <!-- header -->
        <header class="header">
            <nav class="navigation">
                <a href="./02.html">이전</a>
                <a href="">홈</a>
                <a href="./04.html">다음</a>
            </nav>
        </header>

        <!-- content -->
        <div class="page_content">
            <h2>25.3 클래스 호이스팅</h2>

            <div class="article">
                <p>
                    클래스는 함수로 평가된다.
                </p>
                <pre>
                    <code class="javascript">
                        // 클래스 선언문
                        class Person {}

                        console.log(typeof Person); // function
                    </code>
                </pre>
                <p>
                    클래스 선언문으로 정의한 클래스는 함수 선언문와 같이 소스코드 평가 과정, 즉 런타임 이전에 먼저 평가되어 함수 객체를 생성한다. 이때 클래스가 평가되어 생성된 함수 객체는 생성자 함수로서 호출할 수 있는 함수, 즉 constructor다. 생성자 함수로서 호출할 수 있는 함수는 함수 정의가 평가되어 함수 객체를 생성하는 시점에 프로토타입도 더불어 생성된다. 프로토타입과 생성자 함수는 단독으로 존재할 수 없고 언제나 쌍으로 존재하기 때문이다.
                </p>
                <p>
                    단, 클래스는 클래스 정의 이전에 참조할 수 없다.
                </p>
                <pre>
                    <code class="javascript">
                        console.log(Person); // ReferenceError: Cannot access 'Person' before initialization

                        class Person {}

                        console.log(Person); // class Person {}
                    </code>
                </pre>
                <p>
                    클래스 선언문은 마치 호이스팅이 발생하지 않는 것처럼 보이나 그렇지 않다. 다음 예제를 살펴보자.
                </p>
                <pre>
                    <code class="javascript">
                        const Person = '';

                        {
                            // 호이스팅이 발생하지 않는다면 ''이 출력되어야 한다.
                            console.log(Person); // ReferenceError: Cannot access 'Person' before initialization

                            // 클래스 선언문
                            class Person {}
                        }
                    </code>
                </pre>
                <p>
                    클래스 선언문도 변수 선언, 함수 정의와 마찬가지로 호이스팅이 발생한다. 단, 클래스는 let, const 키워드로 선언한 변수처럼 호이스팅된다. 따라서 클래스 선언문 이전에 일시적 사각지대에 빠지기 때문에 호이스팅이 발생하지 않는 것처럼 동작한다.
                </p>
                <p>
                    var, let, const, function, function*, class 키워드를 사용하여 선언된 모든 식별자는 호이스팅된다. 모든 선언문은 런타임 이전에 먼저 실행되기 때문이다.
                </p>
            </div>
        </div>
    </body>
</html>